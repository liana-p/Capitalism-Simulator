{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/components/GameTopbar.vue?ad05","webpack:///./src/components/ModalContainer.vue?ee4c","webpack:///./src/components/modals/UpgradesModal.vue?91cd","webpack:///./src/App.vue?f446","webpack:///./src/components/NotificationBadge.vue?495a","webpack:///./src/components/GameBottomBar.vue?34da","webpack:///./src/components/DebugButtons.vue?ed0a","webpack:///./src/components/FactoriesContainer.vue?9f90","webpack:///./src/components/FactoryWidget.vue?e489","webpack:///./src/components/modals/ManagersModal.vue?0106","webpack:///./src/App.vue?c997","webpack:///./src/store/modules/timer.ts","webpack:///./src/store/RootState.ts","webpack:///./src/store/modules/money.ts","webpack:///./src/store/modules/notifications.ts","webpack:///./src/utils/UtilityFunctions.ts","webpack:///./src/store/modules/FactoryState.ts","webpack:///./src/data/factories.data.ts","webpack:///./src/store/modules/factories.ts","webpack:///./src/store/modules/modals.ts","webpack:///./src/data/upgrades.data.ts","webpack:///./src/store/modules/UpgradeState.ts","webpack:///./src/store/modules/upgrades.ts","webpack:///./src/views/Game.vue?cd7d","webpack:///./src/components/FactoriesContainer.vue?fd0e","webpack:///./src/components/FactoryWidget.vue?e4a3","webpack:///./src/utils/NumberFormatters.ts","webpack:///./src/store/index.ts","webpack:///./src/components/FactoryWidget.vue?91bf","webpack:///./src/components/FactoryWidget.vue?2602","webpack:///./src/components/FactoryWidget.vue","webpack:///./src/components/FactoriesContainer.vue?16ff","webpack:///./src/components/FactoriesContainer.vue?d21a","webpack:///./src/components/FactoriesContainer.vue","webpack:///src/views/Game.vue","webpack:///./src/views/Game.vue?6d24","webpack:///./src/views/Game.vue","webpack:///./src/components/DebugButtons.vue?4b0d","webpack:///./src/components/DebugButtons.vue?ec91","webpack:///./src/components/DebugButtons.vue?733d","webpack:///./src/components/DebugButtons.vue","webpack:///./src/components/NotificationToast.vue?e83f","webpack:///./src/components/NotificationToast.vue?ab98","webpack:///./src/components/NotificationToast.vue?09e9","webpack:///./src/components/NotificationToast.vue","webpack:///./src/components/GameTopbar.vue?09c7","webpack:///./src/components/GameTopbar.vue?c3ee","webpack:///./src/components/GameTopbar.vue?506b","webpack:///./src/components/GameTopbar.vue","webpack:///./src/components/GameBottomBar.vue?b063","webpack:///./src/components/NotificationBadge.vue?ab28","webpack:///./src/components/NotificationBadge.vue?3139","webpack:///./src/components/NotificationBadge.vue?e7ad","webpack:///./src/components/NotificationBadge.vue","webpack:///./src/components/GameBottomBar.vue?ff34","webpack:///./src/components/GameBottomBar.vue?a058","webpack:///./src/components/GameBottomBar.vue","webpack:///./src/components/ModalContainer.vue?43e3","webpack:///./src/components/modals/ManagersModal.vue?1968","webpack:///./src/components/BaseModal.ts","webpack:///./src/components/modals/ManagersModal.vue?ee9c","webpack:///./src/components/modals/ManagersModal.vue?06cb","webpack:///./src/components/modals/ManagersModal.vue","webpack:///./src/components/modals/UpgradesModal.vue?0eb8","webpack:///./src/components/modals/UpgradesModal.vue?6a3b","webpack:///./src/components/modals/UpgradesModal.vue?d4b9","webpack:///./src/components/modals/UpgradesModal.vue","webpack:///./src/components/modals/OfflineSummaryModal.vue?3e6f","webpack:///./src/components/modals/OfflineSummaryModal.vue?bb80","webpack:///./src/components/modals/OfflineSummaryModal.vue?64f3","webpack:///./src/components/modals/OfflineSummaryModal.vue","webpack:///./src/components/ModalContainer.vue?973b","webpack:///./src/components/ModalContainer.vue?bb8b","webpack:///./src/components/ModalContainer.vue","webpack:///./src/App.vue?ec60","webpack:///./src/App.vue?640d","webpack:///./src/App.vue","webpack:///./src/router/index.ts","webpack:///./src/directives/v-disable.ts","webpack:///./src/filters/formatNumber.ts","webpack:///./src/main.ts","webpack:///./src/components/NotificationToast.vue?890c"],"names":["webpackJsonpCallback","data","moduleId","chunkId","chunkIds","moreModules","executeModules","i","resolves","length","Object","prototype","hasOwnProperty","call","installedChunks","push","modules","parentJsonpFunction","shift","deferredModules","apply","checkDeferredModules","result","deferredModule","fulfilled","j","depId","splice","__webpack_require__","s","installedModules","exports","module","l","m","c","d","name","getter","o","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","p","jsonpArray","window","oldJsonpFunction","slice","_vm","this","_h","$createElement","_c","_self","attrs","staticClass","on","resetGame","_l","modal","uuid","staticRenderFns","timer","time","lastUpdate","Date","now","timeModifier","setTimeSpeed","speed","createTimeSave","loadTimeSave","save","updateTimer","delta","elapsedGameTime","storeBuilder","money","builder","currentMoney","read","state","calculateMoneySinceLastTick","moneySave","getters","spendMoney","amount","addMoney","current","setMoney","loadSave","mutations","commit","notificationsToShow","addNotification","content","id","Math","floor","random","setTimeout","calculateDelta","min","max","area","hasManager","running","profitMultiplier","owned","lastTick","timeToTick","baseTimeToTick","upgradeLevel","upgradeLevelForFactory","tickTimeForFactory","getMultipleUpgradesCost","amountUpgradeable","canStillUpgrade","cost","baseMoneyPerTick","revenuePerTick","upgradeLevels","find","upgrade","factory","total","getFactoryCost","canAffordFactory","updateFactoryUpgrades","oldUpgradeLevel","newUpgradeLevel","upgradeIndex","compoundGrowth","baseCost","costIncreasePercent","baseValue","increaseRate","pow","speedMultiplier","upgradeFound","findIndex","factoriesData","manager","factories","buyMode","forEach","factorySave","generateSave","availableManagers","filter","map","factoryId","factoryName","canAfford","buyFactory","payload","findFactory","runFactory","multiplyRevenue","target","factoriesToMultiply","factoryToMultiply","setBuyMode","updateFactoriesProduction","moneyGained","reduce","gained","updateFactoryGains","index","buyManager","deltaSeconds","newTicks","usedTime","newTime","factoryState","Error","modals","addModal","assign","addedAt","set","deleteModal","delete","upgradesData","effect","type","options","enable","applyEffect","boostRevenue","thingToBoost","upgrades","availableUpgrades","upgradesSave","upgradeId","findUpgrade","buyUpgrade","upgradeTest","_v","_s","_f","levelForNextUpgrade","class","titleBoxClass","run","domProps","progress","revenue","buyButtonClass","canBuy","buy","amountToBuy","timeLeft","currency","formatCurrency","formatWithOptions","formatNumber","includeCurrency","currencyPrefix","formatString","format","formatTime","hours","minutes","seconds","hoursString","formatTimeUnit","minutesString","secondsString","finalString","String","use","store","vuexStore","amountAvailable","costOfMultipleUpgrades","nextUpgrade","revenuePerSecond","component","DISTANCE_TO_SEE_FACTORIES","components","FactoryWidget","$event","$emit","cheat","speedCheat","notification","notifications","_m","changeBuyMode","buyModeText","buyModes","buyModeIndex","showManagers","managersPurchasable","_e","showUpgrades","upgradesPurchasable","Number","title","NotificationBadge","close","_b","tag","upgradeText","moneyEarned","ManagersModal","UpgradesModal","OfflineSummaryModal","SAVE_SLOT","loadGame","gameLoop","timeBefore","moneyBefore","newMoney","saveGame","showAwayEarningsSummary","animationFrameRequest","requestAnimationFrame","cancelAnimationFrame","localStorage","clear","location","reload","setItem","JSON","stringify","saveString","getItem","parse","Game","DebugButtons","NotificationToast","GameTopbar","GameBottomBar","ModalContainer","routes","path","router","base","directive","update","el","binding","classList","add","remove","config","productionTip","render","h","$mount"],"mappings":"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","file":"js/app.efd5dcb3.js","sourcesContent":[" \t// install a JSONP callback for chunk loading\n \tfunction webpackJsonpCallback(data) {\n \t\tvar chunkIds = data[0];\n \t\tvar moreModules = data[1];\n \t\tvar executeModules = data[2];\n\n \t\t// add \"moreModules\" to the modules object,\n \t\t// then flag all \"chunkIds\" as loaded and fire callback\n \t\tvar moduleId, chunkId, i = 0, resolves = [];\n \t\tfor(;i < chunkIds.length; i++) {\n \t\t\tchunkId = chunkIds[i];\n \t\t\tif(Object.prototype.hasOwnProperty.call(installedChunks, chunkId) && installedChunks[chunkId]) {\n \t\t\t\tresolves.push(installedChunks[chunkId][0]);\n \t\t\t}\n \t\t\tinstalledChunks[chunkId] = 0;\n \t\t}\n \t\tfor(moduleId in moreModules) {\n \t\t\tif(Object.prototype.hasOwnProperty.call(moreModules, moduleId)) {\n \t\t\t\tmodules[moduleId] = moreModules[moduleId];\n \t\t\t}\n \t\t}\n \t\tif(parentJsonpFunction) parentJsonpFunction(data);\n\n \t\twhile(resolves.length) {\n \t\t\tresolves.shift()();\n \t\t}\n\n \t\t// add entry modules from loaded chunk to deferred list\n \t\tdeferredModules.push.apply(deferredModules, executeModules || []);\n\n \t\t// run deferred modules when all chunks ready\n \t\treturn checkDeferredModules();\n \t};\n \tfunction checkDeferredModules() {\n \t\tvar result;\n \t\tfor(var i = 0; i < deferredModules.length; i++) {\n \t\t\tvar deferredModule = deferredModules[i];\n \t\t\tvar fulfilled = true;\n \t\t\tfor(var j = 1; j < deferredModule.length; j++) {\n \t\t\t\tvar depId = deferredModule[j];\n \t\t\t\tif(installedChunks[depId] !== 0) fulfilled = false;\n \t\t\t}\n \t\t\tif(fulfilled) {\n \t\t\t\tdeferredModules.splice(i--, 1);\n \t\t\t\tresult = __webpack_require__(__webpack_require__.s = deferredModule[0]);\n \t\t\t}\n \t\t}\n\n \t\treturn result;\n \t}\n\n \t// The module cache\n \tvar installedModules = {};\n\n \t// object to store loaded and loading chunks\n \t// undefined = chunk not loaded, null = chunk preloaded/prefetched\n \t// Promise = chunk loading, 0 = chunk loaded\n \tvar installedChunks = {\n \t\t\"app\": 0\n \t};\n\n \tvar deferredModules = [];\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/\";\n\n \tvar jsonpArray = window[\"webpackJsonp\"] = window[\"webpackJsonp\"] || [];\n \tvar oldJsonpFunction = jsonpArray.push.bind(jsonpArray);\n \tjsonpArray.push = webpackJsonpCallback;\n \tjsonpArray = jsonpArray.slice();\n \tfor(var i = 0; i < jsonpArray.length; i++) webpackJsonpCallback(jsonpArray[i]);\n \tvar parentJsonpFunction = oldJsonpFunction;\n\n\n \t// add entry module to deferred list\n \tdeferredModules.push([0,\"chunk-vendors\"]);\n \t// run deferred modules when ready\n \treturn checkDeferredModules();\n","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./GameTopbar.vue?vue&type=style&index=0&id=52d46eda&scoped=true&lang=scss&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./GameTopbar.vue?vue&type=style&index=0&id=52d46eda&scoped=true&lang=scss&\"","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ModalContainer.vue?vue&type=style&index=0&lang=scss&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ModalContainer.vue?vue&type=style&index=0&lang=scss&\"","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./UpgradesModal.vue?vue&type=style&index=0&id=6eded4bc&scoped=true&lang=scss&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./UpgradesModal.vue?vue&type=style&index=0&id=6eded4bc&scoped=true&lang=scss&\"","import mod from \"-!../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=style&index=0&lang=scss&\"; export default mod; export * from \"-!../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=style&index=0&lang=scss&\"","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./NotificationBadge.vue?vue&type=style&index=0&id=e497fb7a&scoped=true&lang=scss&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./NotificationBadge.vue?vue&type=style&index=0&id=e497fb7a&scoped=true&lang=scss&\"","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./GameBottomBar.vue?vue&type=style&index=0&id=104a48f4&scoped=true&lang=scss&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./GameBottomBar.vue?vue&type=style&index=0&id=104a48f4&scoped=true&lang=scss&\"","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./DebugButtons.vue?vue&type=style&index=0&id=472b1012&scoped=true&lang=scss&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./DebugButtons.vue?vue&type=style&index=0&id=472b1012&scoped=true&lang=scss&\"","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./FactoriesContainer.vue?vue&type=style&index=0&id=623eda08&scoped=true&lang=scss&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./FactoriesContainer.vue?vue&type=style&index=0&id=623eda08&scoped=true&lang=scss&\"","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./FactoryWidget.vue?vue&type=style&index=0&id=6b008a38&scoped=true&lang=scss&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./FactoryWidget.vue?vue&type=style&index=0&id=6b008a38&scoped=true&lang=scss&\"","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ManagersModal.vue?vue&type=style&index=0&id=334c5062&scoped=true&lang=scss&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ManagersModal.vue?vue&type=style&index=0&id=334c5062&scoped=true&lang=scss&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"app\"}},[_c('game-topbar'),_c('div',{staticClass:\"game-screen\"},[_c('game')],1),_c('debug-buttons',{on:{\"reset\":_vm.resetGame}}),_c('notification-toast'),_c('game-bottom-bar'),_vm._l((_vm.modals),function(modal){return _c('modal-container',{key:modal.uuid,attrs:{\"modal\":modal}})})],2)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import Vue from 'vue';\nimport { ITimeSave } from '@/interfaces/SaveTypes';\n\n/** Hack to have reactive time that can be used in the store\n * without having to commit new mutations at a high framerate */\nexport const timer = new Vue({\n    data: {\n        time: 0,\n        lastUpdate: Date.now() / 1000,\n    },\n});\n\nlet timeModifier = 1;\nexport function setTimeSpeed(speed: number) {\n    timeModifier = speed;\n}\n\nexport function createTimeSave(): ITimeSave {\n    return {\n        time: timer.time,\n        lastUpdate: timer.lastUpdate,\n    };\n}\n\nexport function loadTimeSave(save: ITimeSave) {\n    timer.time = save.time;\n    timer.lastUpdate = save.lastUpdate;\n}\n\nexport function updateTimer() {\n  const now = Date.now() / 1000;\n  const delta = now - timer.lastUpdate;\n  const elapsedGameTime = delta * timeModifier;\n  timer.time += elapsedGameTime;\n  timer.lastUpdate = now;\n}\n","/** Full state of the app stored in VueX\n * Comprised of individual modules to make code easier to maintain */\n\nimport { getStoreBuilder } from 'vuex-typex';\nimport { MoneyState } from './modules/money';\nimport { ModalState } from './modules/modals';\nimport { NotificationState } from './modules/notifications';\nimport { UpgradesState } from './modules/upgrades';\nimport { FactoriesState } from './modules/factories';\n\nexport interface RootState {\n    money: MoneyState;\n    factories: FactoriesState;\n    modals: ModalState;\n    notifications: NotificationState;\n    upgrades: UpgradesState;\n}\n\nexport const storeBuilder = getStoreBuilder<RootState>();\n","/**\n * Part of the store that manages the money.\n * Handles storing and spending money.\n */\nimport { storeBuilder } from '@/store/RootState';\nimport { timer } from './timer';\nimport { MoneyUpdate, MoneySave } from '@/interfaces/SaveTypes';\n\n/** Main state for the money store */\nexport class MoneyState {\n    public lastUpdate: MoneyUpdate = {\n        time: timer.time,\n        money: 10,\n    };\n}\n\nconst builder = storeBuilder.module<MoneyState>('money', new MoneyState());\n\n// getters\nconst currentMoney = builder.read((state) => {\n    return calculateMoneySinceLastTick(state);\n}, 'currentMoney');\n\nconst moneySave = builder.read((state) => {\n    return state.lastUpdate;\n}, 'moneySave');\n\nexport const getters = {\n    get currentMoney() {\n        return currentMoney();\n    },\n    get moneySave() {\n        return moneySave();\n    },\n};\n\n// mutations\n\nfunction spendMoney(state: MoneyState, amount: number) {\n    addMoney(state, amount * -1);\n}\n\nfunction addMoney(state: MoneyState, amount: number) {\n    const current = calculateMoneySinceLastTick(state);\n    state.lastUpdate.money = current + amount;\n    state.lastUpdate.time = timer.time;\n}\n\nfunction setMoney(state: MoneyState, amount: number) {\n    state.lastUpdate.money = amount;\n    state.lastUpdate.time = timer.time;\n}\n\nfunction loadSave(state: MoneyState, save: MoneySave) {\n    state.lastUpdate.money = save.money;\n    state.lastUpdate.time = save.time;\n}\n\nexport const mutations = {\n    setMoney: builder.commit(setMoney),\n    spendMoney: builder.commit(spendMoney),\n    addMoney: builder.commit(addMoney),\n    loadSave: builder.commit(loadSave),\n};\n\n// Internal functions\nfunction calculateMoneySinceLastTick(state: MoneyState): number {\n    return state.lastUpdate.money;\n}\n","/**\n * Part of the store containing notifications\n * Used to display notification toasts when the player achieves something\n */\nimport { storeBuilder } from '@/store/RootState';\nimport Vue from 'vue';\n// state\nexport interface INotification {\n    content: string;\n    id: string;\n}\n\nexport interface IShownNotification {\n    notification: INotification;\n    appearedAt: number;\n}\n\n/** Main state for the notification store */\nexport class NotificationState {\n    public notificationsToShow: INotification[] = [];\n    public currentNotification: IShownNotification | undefined;\n}\n\nconst builder = storeBuilder.module<NotificationState>('notifications', new NotificationState());\n\n// mutations\n\nfunction addNotification(state: NotificationState, content: string) {\n    state.notificationsToShow.push({\n        content,\n        // Quick UUID placeholder\n        id: `${Math.floor(Math.random() * 10000)}-${Date.now()}`,\n    });\n    setTimeout(() => {\n        state.notificationsToShow.splice(0, 1);\n    }, 2000);\n}\n\nexport const mutations = {\n    addNotification: builder.commit(addNotification),\n};\n","/** File to store random utility functions */\n\n/** Calculate delta between 0 and 1 based on arbitrary min/max/current */\nexport function calculateDelta(min: number, max: number, value: number) {\n    const area = max - min;\n    return (value - min) / area;\n}\n","/** Class representing the state of an individual factory.\n * Used by the factories store module.\n * Contains helper functions and getters for calculating the revenue/cost etc of factories\n */\nimport { IFactoryData } from '@/interfaces/FactoryTypes';\nimport { IFactorySave } from '@/interfaces/SaveTypes';\nimport { timer } from '@/store/modules/timer';\nimport * as MoneyStore from '@/store/modules/money';\nimport * as NotificationStore from '@/store/modules/notifications';\nimport { calculateDelta } from '@/utils/UtilityFunctions';\n\n// state\nexport class FactoryState {\n    public data: IFactoryData;\n    public owned: number;\n    /** Used as a base to calculate the time diff since the last factory tick */\n    public lastTick: number;\n    /** Current upgrade level (factories have upgrades obtained automatically at specific levels) */\n    public upgradeLevel: number;\n    /** Time to tick in seconds */\n    public timeToTick: number;\n    public hasManager: boolean = false;\n    public running: boolean = false;\n    /** Multiplier on top of the normal revenue, obtained from upgrades */\n    public profitMultiplier: number = 1;\n\n    public constructor(data: IFactoryData) {\n        this.data = data;\n        this.owned = 0;\n        this.lastTick = timer.time;\n        this.timeToTick = data.baseTimeToTick;\n        this.upgradeLevel = 0;\n    }\n\n    /** Generates save data for a factory */\n    public generateSave(): IFactorySave {\n        return {\n            owned: this.owned,\n            lastTick: this.lastTick,\n            hasManager: this.hasManager,\n            running: this.running,\n        };\n    }\n\n    /** Loads save data for a factory */\n    public loadSave(save: IFactorySave) {\n        this.owned = save.owned;\n        this.lastTick = save.lastTick;\n        this.hasManager = save.hasManager;\n        this.running = save.running;\n        // We calculate which upgrades are obtained when loading\n        this.upgradeLevel = upgradeLevelForFactory(this, this.owned);\n        this.timeToTick = tickTimeForFactory(this);\n    }\n\n    /** Helper to calculate the cost of doing X upgrades */\n    public costOfMultipleUpgrades(amount: number) {\n        return getMultipleUpgradesCost(this, amount);\n    }\n\n    /** Calculates how many factories can be bought with the current amount of money */\n    public get amountUpgradeable() {\n        const money = MoneyStore.getters.currentMoney;\n        let amountUpgradeable = 0;\n        let canStillUpgrade = true;\n        while (canStillUpgrade) {\n            // Check the cost of the next upgrade\n            const cost = getMultipleUpgradesCost(this, amountUpgradeable + 1);\n            if (money - cost >= 0) {\n                // If upgrade can be afford, move on to checking the next\n                amountUpgradeable++;\n            } else {\n                canStillUpgrade = false;\n            }\n        }\n        return amountUpgradeable;\n    }\n\n    /** Revenue every time the factory produces once */\n    public get revenuePerTick() {\n        return this.data.baseMoneyPerTick * this.owned * this.profitMultiplier;\n    }\n\n    /** Revenue per second, based on how long ticks take */\n    public get revenuePerSecond() {\n        return this.revenuePerTick / this.timeToTick;\n    }\n\n    /** Finds the level needed to the next upgrade (used for the \"next\" purchase mode) */\n    public get levelForNextUpgrade(): number {\n        return this.data.upgradeLevels.find(upgrade => upgrade > this.owned)!;\n    }\n\n    /** Current tick progress, used to display a progress bar */\n    public get progress(): number | undefined {\n        if (!this.owned) {\n            return 0;\n        }\n        if (this.running) {\n            if (this.timeToTick >= 1 || !this.hasManager) {\n                let delta = calculateDelta(0, this.timeToTick, timer.time - this.lastTick);\n                delta *= 100;\n                return delta;\n            } else {\n                return undefined;\n            }\n        }\n        return 0;\n    }\n}\n\n\n/** ===== Utility functions ====== */\n\n/** Combined cost of buying multiple upgrades */\nexport function getMultipleUpgradesCost(factory: FactoryState, amount: number): number {\n    let total = 0;\n    for (let i = 1; i <= amount; i++) {\n        total += getFactoryCost(factory, factory.owned + amount);\n    }\n    return total;\n}\n\nexport function canAffordFactory(factory: FactoryState, amount: number) {\n    return getMultipleUpgradesCost(factory, amount) <= MoneyStore.getters.currentMoney;\n}\n\nexport function updateFactoryUpgrades(factory: FactoryState) {\n    const oldUpgradeLevel = factory.upgradeLevel;\n    const newUpgradeLevel = upgradeLevelForFactory(factory, factory.owned);\n    if (newUpgradeLevel !== oldUpgradeLevel) {\n        // We show a notification when upgrades happen so the player notices\n        NotificationStore.mutations.addNotification(`Factory ${factory.data.name} upgraded! Now 2x faster.`);\n        factory.upgradeLevel = newUpgradeLevel;\n        factory.timeToTick = tickTimeForFactory(factory);\n    }\n}\n\n/** Cost of a specific upgrade */\nfunction getFactoryCost(factory: FactoryState, upgradeIndex: number): number {\n    /** We use upgradeIndex - 1 because the price for upgrading is at the previous index\n     * (ie. index 0 gives the price for upgrading from 0 to 1) */\n    return compoundGrowth(factory.data.baseCost, factory.data.costIncreasePercent / 100, upgradeIndex - 1);\n}\n\n\nfunction compoundGrowth(baseValue: number, increaseRate: number, amount: number): number {\n    return baseValue * Math.pow(1 + increaseRate, amount);\n}\n\n/** Calculates the tick time for a factory based on balance data and upgrade level */\nfunction tickTimeForFactory(factory: FactoryState) {\n    let speedMultiplier = 1;\n    if (factory.upgradeLevel >= 1) {\n        // For each upgrade we divide the speed even more\n        speedMultiplier = factory.upgradeLevel * 2;\n    }\n    return factory.data.baseTimeToTick / speedMultiplier;\n}\n\nfunction upgradeLevelForFactory(factory: FactoryState, upgradeIndex: number): number {\n    let upgradeLevel = 0;\n    const upgradeFound = factory.data.upgradeLevels.findIndex(upgrade => upgrade > upgradeIndex);\n    if (upgradeFound) {\n        upgradeLevel = upgradeFound - 1;\n    }\n    return upgradeLevel;\n}\n","/**\n * Balance data for all the factories\n * Made as a typescript file so it's easier to edit with type checking\n */\n\nimport { IFactoryData } from '@/interfaces/FactoryTypes';\n\n/* tslint:disable:max-line-length */\nexport const factoriesData: IFactoryData[] = [\n    {\n        id: 'ice_cream',\n        name: 'Ice Cream Truck',\n        baseCost: 8,\n        baseMoneyPerTick: 11,\n        costIncreasePercent: 30,\n        upgradeLevels: [0, 10, 25, 50, 75, 100, 125, 150, 175, 200, 250, 300, 400, 500, 600, 700, 800, 1000, 10000, 100000],\n        baseTimeToTick: 1,\n        manager: {\n            name: 'Harry Burt',\n            cost: 1000,\n        },\n    },\n    {\n        id: 'corner_shop',\n        name: 'Convenience Store',\n        baseCost: 125,\n        costIncreasePercent: 25,\n        upgradeLevels: [0, 10, 25, 50, 75, 100, 125, 150, 175, 200, 250, 300, 400, 500, 600, 700, 800, 1000, 10000, 100000],\n        baseMoneyPerTick: 145,\n        baseTimeToTick: 5,\n        manager: {\n            name: 'Mrs Tyrese Lesser',\n            cost: 10000,\n        },\n    },\n    {\n        id: 'car_wash',\n        name: 'Car Wash Station',\n        baseCost: 1130,\n        costIncreasePercent: 20,\n        upgradeLevels: [0, 10, 25, 50, 75, 100, 125, 150, 200, 250, 300, 400, 500, 600, 700, 800, 1000, 10000, 100000],\n        baseMoneyPerTick: 575,\n        baseTimeToTick: 8,\n        manager: {\n            name: 'Addy Ammonite',\n            cost: 100000,\n        },\n    },\n    {\n        id: 'restaurant',\n        name: 'Restaurant',\n        baseCost: 12900,\n        costIncreasePercent: 20,\n        upgradeLevels: [0, 10, 50, 75, 100, 150, 200, 250, 300, 400, 500, 600, 700, 800, 1000, 10000, 100000],\n        baseMoneyPerTick: 9870,\n        baseTimeToTick: 15,\n        manager: {\n            name: 'Martha Birch',\n            cost: 1000000,\n        },\n    },\n    {\n        id: 'marketing_agency',\n        name: 'Marketing Agency',\n        baseCost: 135000,\n        costIncreasePercent: 20,\n        upgradeLevels: [0, 10, 25, 50, 75, 100, 125, 150, 175, 200, 250, 300, 400, 500, 600, 700, 800, 1000, 10000, 100000],\n        baseMoneyPerTick: 325000,\n        baseTimeToTick: 30,\n        manager: {\n            name: 'Lady Hazel Selanmere',\n            cost: 10000000,\n        },\n    },\n    {\n        id: 'manufacturing_outsourcing',\n        name: 'Manufacturing Outsourcing Agency',\n        baseCost: 856700,\n        costIncreasePercent: 15,\n        upgradeLevels: [0, 10, 25, 50, 100, 125, 150, 175, 200, 250, 300, 400, 500, 600, 700, 800, 1000, 10000, 100000],\n        baseMoneyPerTick: 1250000,\n        baseTimeToTick: 60,\n        manager: {\n            name: 'Sylvia Bullen',\n            cost: 100000000,\n        },\n    },\n    {\n        id: 'pharmaceutical',\n        name: 'Pharmaceutical Company',\n        baseCost: 3526000,\n        costIncreasePercent: 10,\n        upgradeLevels: [0, 10, 25, 50, 100, 125, 150, 175, 200, 250, 300, 400, 500, 600, 700, 800, 1000, 10000, 100000],\n        baseMoneyPerTick: 7476000,\n        baseTimeToTick: 300,\n        manager: {\n            name: 'Jessie Corleone',\n            cost: 1000000000,\n        },\n    },\n    {\n        id: 'money_laundering',\n        name: 'Money Laundering Front',\n        baseCost: 25639000,\n        costIncreasePercent: 5,\n        upgradeLevels: [0, 10, 25, 50, 100, 125, 150, 175, 200, 250, 300, 400, 500, 600, 700, 800, 1000, 10000, 100000],\n        baseMoneyPerTick: 51256000,\n        baseTimeToTick: 3600,\n        manager: {\n            name: 'Dr Annabel Umbridge',\n            cost: 10000000000,\n        },\n    },\n    {\n        id: 'lobbying',\n        name: 'Lobbying Agency',\n        baseCost: 255100000,\n        costIncreasePercent: 5,\n        upgradeLevels: [0, 10, 25, 50, 100, 125, 150, 175, 200, 250, 300, 400, 500, 600, 700, 800, 1000, 10000, 100000],\n        baseMoneyPerTick: 318552000,\n        baseTimeToTick: 7200,\n        manager: {\n            name: 'Thomas Cade',\n            cost: 100000000000,\n        },\n    },\n    {\n        id: 'bribing',\n        name: 'Gifts to the elite',\n        baseCost: 3489500000,\n        costIncreasePercent: 5,\n        upgradeLevels: [0, 10, 25, 50, 100, 125, 150, 175, 200, 250, 300, 400, 500, 600, 700, 800, 1000, 10000, 100000],\n        baseMoneyPerTick: 15678900000,\n        baseTimeToTick: 18000,\n        manager: {\n            name: 'Anita Noble',\n            cost: 1000000000000,\n        },\n    },\n    {\n        id: 'ai_research',\n        name: 'AI Research',\n        baseCost: 78123400000,\n        costIncreasePercent: 5,\n        upgradeLevels: [0, 10, 25, 50, 100, 125, 150, 175, 200, 250, 300, 400, 500, 600, 700, 800, 1000, 10000, 100000],\n        baseMoneyPerTick: 456028670000,\n        baseTimeToTick: 86400,\n        manager: {\n            name: 'Leon Mercia',\n            cost: 10000000000000,\n        },\n    },\n    {\n        id: 'asteroid',\n        name: 'Asteroid Mining',\n        baseCost: 1345123400000,\n        costIncreasePercent: 5,\n        upgradeLevels: [0, 10, 25, 50, 100, 125, 150, 175, 200, 250, 300, 400, 500, 600, 700, 800, 1000, 10000, 100000],\n        baseMoneyPerTick: 6800400400300,\n        baseTimeToTick: 10,\n        manager: {\n            name: 'Miss Rosario Canmore',\n            cost: 100000000000000,\n        },\n    },\n    {\n        id: 'mars_colonies',\n        name: 'Mars colonies',\n        baseCost: 50500500500500,\n        costIncreasePercent: 5,\n        upgradeLevels: [0, 10, 25, 50, 100, 125, 150, 175, 200, 250, 300, 400, 500, 600, 700, 800, 1000, 10000, 100000],\n        baseMoneyPerTick: 125500500500500,\n        baseTimeToTick: 100,\n        manager: {\n            name: 'Dr Arkis Medina',\n            cost: 1000000000000000,\n        },\n    },\n    {\n        id: 'space_probes',\n        name: 'Space Probes',\n        baseCost: 999999500500500,\n        costIncreasePercent: 5,\n        upgradeLevels: [0, 10, 25, 50, 100, 125, 150, 175, 200, 250, 300, 400, 500, 600, 700, 800, 1000, 10000, 100000],\n        baseMoneyPerTick: 3900500500500500,\n        baseTimeToTick: 1000,\n        manager: {\n            name: 'John Thomas',\n            cost: 10000000000000000,\n        },\n    },\n    {\n        id: 'dyson_sphere',\n        name: 'Dyson Spheres',\n        baseCost: 25200200500500500,\n        costIncreasePercent: 5,\n        upgradeLevels: [0, 10, 25, 50, 100, 125, 150, 175, 200, 250, 300, 400, 500, 600, 700, 800, 1000, 10000, 100000],\n        baseMoneyPerTick: 389320100500500500,\n        baseTimeToTick: 3600,\n        manager: {\n            name: 'Morton Montague',\n            cost: 100000000000000000,\n        },\n    },\n    {\n        id: 'singularity_accelerator',\n        name: 'Singularity Accelerators',\n        baseCost: 850200200500500500,\n        costIncreasePercent: 5,\n        upgradeLevels: [0, 10, 25, 50, 100, 125, 150, 175, 200, 250, 300, 400, 500, 600, 700, 800, 1000, 10000, 100000],\n        baseMoneyPerTick: 2672200200500500500,\n        baseTimeToTick: 3600,\n        manager: {\n            name: 'Dr Hela Castillo',\n            cost: 1000000000000000000,\n        },\n    },\n    {\n        id: 'multiverse_exploitation',\n        name: 'Multiverse Exploitation',\n        baseCost: 9999999999999999999,\n        costIncreasePercent: 5,\n        upgradeLevels: [0, 10, 25, 50, 100, 125, 150, 175, 200, 250, 300, 400, 500, 600, 700, 800, 1000, 10000, 100000],\n        baseMoneyPerTick: 999999999999999999999,\n        baseTimeToTick: 86400,\n        manager: {\n            name: 'Mardian Whitmore',\n            cost: 10000000000000000000,\n        },\n    },\n];\n","/**\n * Module of the store that manages factories.\n * Contains the state, mutation and getters related to purchasing factories,\n * and getting revenue from them.\n * Factories are displayed in the <FactoriesContainer>\n */\nimport { storeBuilder } from '@/store/RootState';\nimport { timer } from './timer';\nimport * as MoneyStore from './money';\nimport { FactoriesSave } from '@/interfaces/SaveTypes';\nimport { BuyMode } from '@/interfaces/FactoryTypes';\nimport { FactoryState, getMultipleUpgradesCost, canAffordFactory, updateFactoryUpgrades } from '@/store/modules/FactoryState';\nimport { factoriesData } from '@/data/factories.data';\nimport { UpgradeEffectOptions } from '@/interfaces/UpgradeTypes';\n\n\n/** Main state container for the factories */\nexport class FactoriesState {\n    public factories: FactoryState[] = [];\n    public buyMode: BuyMode = 'single';\n\n    public constructor() {\n        factoriesData.forEach((factory) => {\n            this.factories.push(new FactoryState(factory));\n        });\n    }\n}\n\nconst builder = storeBuilder.module<FactoriesState>('factories', new FactoriesState());\n\n/** Getter for generating the save data for factories */\nconst factorySave = builder.read((state) => {\n    const save: FactoriesSave = [];\n    state.factories.forEach(factory => {\n        save.push(factory.generateSave());\n    });\n    return save;\n}, 'factorySave');\n\nconst availableManagers = builder.read((state) => {\n    const money = MoneyStore.getters.currentMoney;\n    return state.factories.filter(factory => !factory.hasManager).map(factory => {\n        return {\n            cost: factory.data.manager.cost,\n            name: factory.data.manager.name,\n            factoryId: factory.data.id,\n            factoryName: factory.data.name,\n            canAfford: money >= factory.data.manager.cost,\n        };\n    });\n}, 'availableManagers');\n\nconst factories = builder.read((state) => {\n    return state.factories;\n}, 'factories');\n\nexport const getters = {\n    get factorySave() {\n        return factorySave();\n    },\n    get factories() {\n        return factories();\n    },\n    get availableManagers() {\n        return availableManagers();\n    },\n};\n\n// Mutations\n\nexport interface IBuyFactoryPayload {\n    factoryId: string;\n    amount: number;\n}\n\n/** Finds the cost of buying a certain amount of factories and adds the factories + spend the cost */\nfunction buyFactory(state: FactoriesState, payload: IBuyFactoryPayload) {\n    const amount = payload.amount;\n    const factory = findFactory(state, payload.factoryId);\n    const cost = getMultipleUpgradesCost(factory, amount);\n    if (canAffordFactory(factory, amount)) {\n        if (factory.owned === 0) {\n            factory.lastTick = timer.time;\n        }\n        factory.owned += amount;\n        updateFactoryUpgrades(factory);\n        MoneyStore.mutations.spendMoney(cost);\n    }\n}\n\n/** Buys the manager for a given factory */\nfunction buyManager(state: FactoriesState, factoryId: string) {\n    const factory = findFactory(state, factoryId);\n    const cost = factory.data.manager.cost;\n    const money = MoneyStore.getters.currentMoney;\n    if (money >= cost) {\n        factory.hasManager = true;\n        if (!factory.running) {\n            factory.running = true;\n            factory.lastTick = timer.time;\n        }\n        MoneyStore.mutations.spendMoney(cost);\n    }\n}\n\n/** Called when the player presses the run button for a factory, starting its tick cycle */\nfunction runFactory(state: FactoriesState, factoryId: string) {\n    const factory = findFactory(state, factoryId);\n    if (factory.running) {\n        // Ignore request if the factory is already running\n        return;\n    }\n    factory.lastTick = timer.time;\n    factory.running = true;\n}\n\n/** Called to multiply the profits of factories, used by upgrades */\nfunction multiplyRevenue(state: FactoriesState, payload: UpgradeEffectOptions) {\n    const target = payload.target;\n    let factoriesToMultiply: FactoryState[] = [];\n    if (target === 'all') {\n        // All is a shortcut for upgrades that boost all profits\n        factoriesToMultiply = state.factories;\n    } else {\n        factoriesToMultiply.push(findFactory(state, target));\n    }\n    factoriesToMultiply.forEach(factoryToMultiply => {\n        // Multipliers are stacked in a multiplicative way\n        factoryToMultiply.profitMultiplier *= payload.amount;\n    });\n}\n\n/** Changes the buy mode for the player to easily buy multiple factories (x1, x10, next upgrade, max available) */\nfunction setBuyMode(state: FactoriesState, buyMode: BuyMode) {\n    state.buyMode = buyMode;\n}\n\n/** Called on every update to calculate the earnings of owned factories */\nfunction updateFactoriesProduction(state: FactoriesState) {\n    const moneyGained = state.factories.reduce((total, current) => {\n        const gained = updateFactoryGains(current);\n        return total + gained;\n    }, 0);\n    MoneyStore.mutations.addMoney(moneyGained);\n}\n\n/** Called on game start to load the save of owned factories  */\nfunction loadSave(state: FactoriesState, save: FactoriesSave) {\n    state.factories.forEach((factory, index) => {\n        if (save.length > index) {\n            factory.loadSave(save[index]);\n        }\n    });\n}\n\nexport const mutations = {\n    updateFactoriesProduction: builder.commit(updateFactoriesProduction),\n    runFactory: builder.commit(runFactory),\n    buyFactory: builder.commit(buyFactory),\n    multiplyRevenue: builder.commit(multiplyRevenue),\n    buyManager: builder.commit(buyManager),\n    loadSave: builder.commit(loadSave),\n    setBuyMode: builder.commit(setBuyMode),\n};\n\n// Internal functions\n\n/** Main factory update function, checks the current time and calculates how many ticks\n * the factory has gained since last update (can potentially be multiple ones per update)\n */\nfunction updateFactoryGains(factory: FactoryState) {\n    if (!factory.hasManager && !factory.running) {\n        // If we don't have a manager, only run the update if the factory is actually running.\n        return 0;\n    }\n    const deltaSeconds = timer.time - factory.lastTick;\n    const newTicks = Math.floor(deltaSeconds / factory.timeToTick);\n    const usedTime = newTicks * factory.timeToTick;\n    const moneyGained = factory.revenuePerTick * newTicks;\n    const newTime = factory.lastTick + usedTime;\n    if (factory.hasManager) {\n        // If we have a manager, set last tick time to the tick that just happened, so it can start running immediately\n        factory.lastTick = newTime;\n    }\n    if (!factory.hasManager && newTicks > 0) {\n        // If we don't have a manager, stop running now that the factory has finished a tick\n        factory.running = false;\n    }\n    return moneyGained;\n}\n\n/** Helper to find a factory by id */\nexport function findFactory(state: FactoriesState, factoryId: string) {\n    const factoryState = state.factories.find(factory => factory.data.id === factoryId);\n    if (!factoryState) {\n        throw new Error(`Factory type ${factoryId} doesn't exist in the state.`);\n    }\n    return factoryState;\n}\n","/**\n * Part of the store that manages popups\n * Contains a list of modals that can display any component with arbitrary options\n * The modals themselves are displayed by the <ModalContainer>\n * and getting revenue from them.\n */\n\nimport { storeBuilder } from '@/store/RootState';\nimport Vue from 'vue';\nimport { IModal, IModalPayload } from '@/interfaces/ModalTypes';\n\n// state\nexport class ModalState {\n    public modals: {\n        [key: string]: IModal;\n    } = {};\n}\n\nconst builder = storeBuilder.module<ModalState>('modals', new ModalState());\n\n// getters\nconst modals = builder.read((state) => {\n    return state.modals;\n}, 'modal');\n\nexport const getters = {\n    get modals() {\n        return modals();\n    },\n};\n\n// mutations\n\n/** Adds a modal to the store, displaying it.\n * The title really shouldn't be hardcoded, but at the moment it is.\n */\nfunction addModal(state: ModalState, payload: IModalPayload) {\n    const uuid = `${Date.now()}-${Math.random() * 1000}`;\n    const modal: IModal = Object.assign({\n        uuid,\n        addedAt: Date.now(),\n    }, payload);\n    Vue.set(state.modals, uuid, modal);\n}\n\nfunction deleteModal(state: ModalState, uuid: string) {\n    Vue.delete(state.modals, uuid);\n}\nexport const mutations = {\n    addModal: builder.commit(addModal),\n    deleteModal: builder.commit(deleteModal),\n};\n","/** Balance data for all upgrades in the game */\n\nimport { IUpgradeData } from '@/interfaces/UpgradeTypes';\n\nexport const upgradesData: IUpgradeData[] = [\n    {\n        id: 'ice_cream_boost_1',\n        name: 'New ice cooler model',\n        cost: 5000,\n        effect: {\n            type: 'multiply-revenue',\n            options: {\n                target: 'ice_cream',\n                amount: 3,\n            },\n        },\n    },\n    {\n        id: 'corner_shop_boost_1',\n        name: 'Self service checkout',\n        cost: 20000,\n        effect: {\n            type: 'multiply-revenue',\n            options: {\n                target: 'corner_shop',\n                amount: 3,\n            },\n        },\n    },\n    {\n        id: 'car_wash_boost_1',\n        name: 'Automatic car wash',\n        cost: 55000,\n        effect: {\n            type: 'multiply-revenue',\n            options: {\n                target: 'car_wash',\n                amount: 3,\n            },\n        },\n    },\n    {\n        id: 'all_boost_1',\n        name: 'New investment strategy',\n        cost: 210000,\n        effect: {\n            type: 'multiply-revenue',\n            options: {\n                target: 'all',\n                amount: 3,\n            },\n        },\n    },\n];\n","/** Class representing the state of an individual upgrade in the store */\nimport { IUpgradeData, IMultiplyRevenueOptions } from '@/interfaces/UpgradeTypes';\nimport { IUpgradeSave } from '@/interfaces/SaveTypes';\nimport * as FactoriesStore from './factories';\nimport * as MoneyStore from './money';\nimport { factoriesData } from '@/data/factories.data';\n\nexport class UpgradeState {\n    public data: IUpgradeData;\n    public owned: boolean = false;\n\n    constructor(data: IUpgradeData) {\n        this.data = data;\n    }\n\n    public loadSave(save: IUpgradeSave) {\n        if (save.owned) {\n            this.enable();\n        }\n    }\n\n    /** Called when the upgrade is bought, or when it's loaded from a game save */\n    public enable() {\n        this.owned = true;\n        this.applyEffect();\n    }\n\n    /** When the upgrade is enabled, this makes its effects happen */\n    public applyEffect() {\n        switch (this.data.effect.type) {\n            case 'multiply-revenue':\n                this.boostRevenue(this.data.effect.options);\n                break;\n        }\n    }\n\n    /** Generates flavour text for the upgrade based on what it does */\n    public get upgradeText() {\n        switch (this.data.effect.type) {\n            case 'multiply-revenue':\n                let thingToBoost = '';\n                const target = this.data.effect.options.target;\n                if (target === 'all') {\n                    thingToBoost = 'everything';\n                } else {\n                    thingToBoost = factoriesData.find(factory => factory.id === target)!.name;\n                }\n                return `Boosts revenue of ${thingToBoost} by x${this.data.effect.options.amount}`;\n        }\n    }\n\n    public get canAfford() {\n        const money = MoneyStore.getters.currentMoney;\n        return money >= this.data.cost;\n    }\n\n    private boostRevenue(options: IMultiplyRevenueOptions) {\n        FactoriesStore.mutations.multiplyRevenue(options);\n    }\n}\n","/** Part of the store representing upgrades that can be purchased\n * Upgrades have data-driven effects based on their data in upgrades.data.ts\n * Uses UpgradeState for managing individual upgrades.\n * Upgrades are displayed/purchased in <UpgradesModal>\n */\nimport { storeBuilder } from '@/store/RootState';\nimport * as MoneyStore from './money';\nimport { UpgradesSave } from '@/interfaces/SaveTypes';\nimport { upgradesData } from '@/data/upgrades.data';\nimport { UpgradeState } from './UpgradeState';\n\n\n\n// state\nexport class UpgradesState {\n    public upgrades: UpgradeState[] = [];\n\n    public constructor() {\n        upgradesData.forEach(upgrade => {\n            this.upgrades.push(new UpgradeState(upgrade));\n        });\n    }\n}\n\nconst builder = storeBuilder.module<UpgradesState>('upgrades', new UpgradesState());\n\n// getters\nconst upgrades = builder.read((state) => {\n    return state.upgrades;\n}, 'upgrades');\n\nconst availableUpgrades = builder.read((state) => {\n    return state.upgrades.filter(upgrade => !upgrade.owned);\n}, 'availableUpgrades');\n\nconst upgradesSave = builder.read((state) => {\n    return state.upgrades.map(upgrade => {\n        return {\n            owned: upgrade.owned,\n        };\n    });\n}, 'upgradesSave');\n\nexport const getters = {\n    get upgrades() {\n        return upgrades();\n    },\n    get availableUpgrades() {\n        return availableUpgrades();\n    },\n    get upgradesSave() {\n        return upgradesSave();\n    },\n};\n\n// mutations\n\n/** Purchases an upgrade, spending money and applying its effect */\nfunction buyUpgrade(state: UpgradesState, upgradeId: string) {\n    const upgrade = findUpgrade(state, upgradeId);\n    const cost = upgrade.data.cost;\n    const money = MoneyStore.getters.currentMoney;\n    if (money >= cost) {\n        upgrade.enable();\n        MoneyStore.mutations.spendMoney(cost);\n    }\n}\n\n/** Called on game start to load the save of owned factories  */\nfunction loadSave(state: UpgradesState, save: UpgradesSave) {\n    state.upgrades.forEach((upgrade, index) => {\n        if (save.length > index) {\n            upgrade.loadSave(save[index]);\n        }\n    });\n}\n\nexport const mutations = {\n    buyUpgrade: builder.commit(buyUpgrade),\n    loadSave: builder.commit(loadSave),\n};\n\nfunction findUpgrade(state: UpgradesState, upgradeId: string) {\n    const upgrade = state.upgrades.find(upgradeTest => upgradeTest.data.id === upgradeId);\n    if (!upgrade) {\n        throw new Error(`Upgrade ${upgradeId} doesn't exist in the state.`);\n    }\n    return upgrade;\n}\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"game\"},[_c('factories-container')],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"factories-container\"},_vm._l((_vm.visibleFactories),function(factory){return _c('factory-widget',{key:factory.data.id,attrs:{\"factoryId\":factory.data.id}})}),1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('div',{staticClass:\"columns is-mobile is-vcentered\"},[_c('div',{staticClass:\"column is-3\"},[_c('div',{staticClass:\"factory-info-box is-rounded\"},[_c('h3',[_vm._v(\"Running\")]),_c('p',[_vm._v(\"Owned: \"+_vm._s(_vm._f(\"formatNumber\")(_vm.factory.owned)))]),_c('p',[_vm._v(\"Upgrade at \"+_vm._s(_vm._f(\"formatNumber\")(_vm.factory.levelForNextUpgrade)))])])]),_c('div',{staticClass:\"column\"},[_c('transition',{attrs:{\"name\":\"fade\"}},[(_vm.factory.owned)?_c('div',{staticClass:\"factory-buttons is-rounded\"},[_c('div',{staticClass:\"factory-title-box is-rounded has-shadow\",class:_vm.titleBoxClass,on:{\"click\":_vm.run}},[_c('div',{staticClass:\"is-size-4 little-margin\"},[_c('span',{staticClass:\"is-bold\"},[_vm._v(_vm._s(_vm.factory.data.name))])]),(_vm.factory.running)?_c('progress',{staticClass:\"progress is-primary factory-production-bar\",attrs:{\"max\":\"100\"},domProps:{\"value\":_vm.progress}},[_vm._v(_vm._s(_vm.progress)+\"%\")]):_c('span',{staticClass:\"is-bold\"},[_vm._v(\"Not Running\"),_c('br')]),_c('span',{staticClass:\"little-margin\"},[_vm._v(\"Revenue: \"+_vm._s(_vm.revenue))])]),_c('div',{staticClass:\"columns is-mobile is-vcentered\"},[_c('div',{staticClass:\"column is-8\"},[_c('button',{staticClass:\"big-button box is-full-width\",class:_vm.buyButtonClass,attrs:{\"disabled\":!_vm.canBuy},on:{\"click\":_vm.buy}},[_c('div',{staticClass:\"is-flex is-mobile is-size-5 buy-button-content\"},[_c('div',{staticClass:\"has-text-left\"},[_c('span',[_vm._v(\"Buy\")]),_c('br'),_c('span',[_vm._v(\"x \"+_vm._s(_vm._f(\"formatNumber\")(_vm.amountToBuy)))])]),_c('div',{staticClass:\"has-text-right\"},[_c('span',[_vm._v(_vm._s(_vm._f(\"formatCurrency\")(_vm.cost)))])])])])]),_c('div',{staticClass:\"column\"},[_c('div',{staticClass:\"tiny-box time-box is-rounded has-shadow is-size-5\"},[_c('span',[_vm._v(_vm._s(_vm._f(\"formatTime\")(_vm.timeLeft)))])])])])]):_c('div',{staticClass:\"factory-buttons\"},[_c('button',{staticClass:\"big-button box is-full-width\",class:_vm.buyButtonClass,attrs:{\"disabled\":!_vm.canBuy},on:{\"click\":_vm.buy}},[_c('p',{staticClass:\"is-size-4\"},[_vm._v(\"Buy \"+_vm._s(_vm.factory.data.name))]),_c('p',{staticClass:\"is-size-5\"},[_vm._v(_vm._s(_vm._f(\"formatCurrency\")(_vm.cost)))])])])])],1)])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","/** Number formatting functions for nicely displaying numbers, currency and time */\nimport numeral from 'numeral';\n\nconst currency = '$';\nexport function formatCurrency(value: number) {\n    return formatWithOptions(value, true);\n}\n\nexport function formatNumber(value: number) {\n    return formatWithOptions(value, false);\n}\n\nfunction formatWithOptions(value: number, includeCurrency: boolean) {\n    let currencyPrefix = `${currency} `;\n    if (!includeCurrency) {\n        currencyPrefix = '';\n    }\n    let formatString = `(0 a)`;\n    if (value > 1000) {\n        formatString = `(0.00 a)`;\n    }\n    if (value > 1000000000000) {\n        formatString = `0.000e+0`;\n    }\n    let result = numeral(Math.floor(value)).format(formatString);\n    result = currencyPrefix + result;\n    return result;\n}\n\nexport function formatTime(time: number) {\n    const hours = Math.floor(time / 3600);\n    const minutes = Math.floor((time - (hours * 3600)) / 60);\n    const seconds = time - (hours * 3600) - (minutes * 60);\n\n    const hoursString = formatTimeUnit(hours);\n    const minutesString = formatTimeUnit(minutes);\n    const secondsString = formatTimeUnit(seconds);\n    let finalString = '';\n    if (hours > 0) {\n        finalString += `${hoursString}:`;\n    }\n    if (minutes > 0) {\n        finalString += `${minutesString}:`;\n    }\n    finalString += secondsString;\n    return finalString;\n}\n\nfunction formatTimeUnit(value: number) {\n    return value >= 10 ? String(value) : `0${value}`;\n}\n","import Vue from 'vue';\nimport Vuex from 'vuex';\nimport './modules/money';\nimport './modules/factories';\nimport { storeBuilder } from './RootState';\n\nVue.use(Vuex);\n\nexport default storeBuilder.vuexStore();\n","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport { Component, Prop, Vue } from 'vue-property-decorator';\nimport * as MoneyStore from '@/store/modules/money';\nimport * as FactoryStore from '@/store/modules/factories';\nimport * as NotificationsStore from '@/store/modules/notifications';\nimport { timer } from '@/store/modules/timer';\nimport { BuyMode } from '@/interfaces/FactoryTypes';\nimport { formatCurrency } from '@/utils/NumberFormatters';\nimport { FactoryState } from '@/store/modules/FactoryState';\nimport store from '../store';\n\n@Component\nexport default class FactoryWidget extends Vue {\n    @Prop(String) public factoryId!: string;\n\n    public factory!: FactoryState;\n\n    public created() {\n        this.factory = FactoryStore.findFactory(store.state.factories, this.factoryId);\n    }\n\n    public buy() {\n        FactoryStore.mutations.buyFactory({\n            factoryId: this.factoryId,\n            amount: this.amountToBuy,\n        });\n    }\n\n    public run() {\n      if (!this.factory.running) {\n        FactoryStore.mutations.runFactory(this.factoryId);\n      }\n    }\n\n    get canBuy() {\n        const amountToBuy = this.amountToBuy;\n        if (amountToBuy === 0) {\n            return false;\n        }\n        if (amountToBuy <= this.amountAvailable) {\n            return true;\n        }\n        return false;\n    }\n\n    get cost() {\n        return this.factory.costOfMultipleUpgrades(this.amountToBuy);\n    }\n\n    get amountToBuy() {\n        let amountToBuy = 1;\n        if (!this.factory.owned) {\n            return amountToBuy;\n        }\n        switch (this.buyMode) {\n            case 'ten':\n                amountToBuy = 10;\n                break;\n            case 'next':\n                amountToBuy = (this.nextUpgrade - this.factory.owned);\n                break;\n            case 'max':\n                amountToBuy = this.amountAvailable;\n                if (amountToBuy === 0) {\n                    amountToBuy = 1;\n                }\n                break;\n        }\n        return amountToBuy;\n    }\n\n    get amountAvailable() {\n        return this.factory.amountUpgradeable;\n    }\n\n    get nextUpgrade() {\n        return this.factory.levelForNextUpgrade;\n    }\n\n    get money() {\n        return MoneyStore.getters.currentMoney;\n    }\n\n    get buyMode(): BuyMode {\n        return store.state.factories.buyMode;\n    }\n\n    get revenue(): string {\n        if (this.factory.timeToTick >= 1) {\n            return `${formatCurrency(this.factory.revenuePerTick)}`;\n        } else {\n            return `${formatCurrency(this.factory.revenuePerSecond)} /s`;\n        }\n    }\n\n    get timeLeft(): number {\n        if (!this.factory.running) {\n            return this.factory.timeToTick;\n        }\n        return Math.floor(this.factory.timeToTick - (timer.time - this.factory.lastTick));\n    }\n\n    get buyButtonClass() {\n        if (this.canBuy) {\n            return 'can-buy';\n        } else {\n            return 'cant-buy';\n        }\n    }\n\n    get progress(): number | undefined {\n        return this.factory.progress;\n    }\n\n    get titleBoxClass() {\n      if (this.factory.running) {\n        return 'factory-title-running';\n      } else {\n        return 'factory-title-can-run';\n      }\n    }\n}\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--13-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./FactoryWidget.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--13-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./FactoryWidget.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./FactoryWidget.vue?vue&type=template&id=6b008a38&scoped=true&\"\nimport script from \"./FactoryWidget.vue?vue&type=script&lang=ts&\"\nexport * from \"./FactoryWidget.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./FactoryWidget.vue?vue&type=style&index=0&id=6b008a38&scoped=true&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"6b008a38\",\n  null\n  \n)\n\nexport default component.exports","\n\n\n\n\n\n\nimport { Component, Vue } from 'vue-property-decorator';\nimport * as FactoryStore from '@/store/modules/factories';\nimport FactoryWidget from '@/components/FactoryWidget.vue';\nimport { BuyMode } from '@/interfaces/FactoryTypes';\nimport store from '../store';\n\nconst DISTANCE_TO_SEE_FACTORIES = 5;\n\n@Component({\n    components: {\n        FactoryWidget,\n    },\n})\nexport default class FactoriesContainer extends Vue {\n\n    get factories() {\n        return store.state.factories.factories;\n    }\n\n    get visibleFactories() {\n        return this.factories.filter((factory, index) => {\n            if (index < DISTANCE_TO_SEE_FACTORIES) {\n                return true;\n            } else {\n                return this.factories[index - DISTANCE_TO_SEE_FACTORIES].owned;\n            }\n        });\n    }\n}\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--13-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./FactoriesContainer.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--13-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./FactoriesContainer.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./FactoriesContainer.vue?vue&type=template&id=623eda08&scoped=true&\"\nimport script from \"./FactoriesContainer.vue?vue&type=script&lang=ts&\"\nexport * from \"./FactoriesContainer.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./FactoriesContainer.vue?vue&type=style&index=0&id=623eda08&scoped=true&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"623eda08\",\n  null\n  \n)\n\nexport default component.exports","<template>\n    <div class=\"game\">\n        <factories-container />\n    </div>\n</template>\n\n<script>\n// @ is an alias to /src\nimport FactoriesContainer from '@/components/FactoriesContainer.vue';\n\nexport default {\n    name: 'Game',\n    components: {\n        FactoriesContainer,\n    },\n};\n\n</script>\n<style scoped lang=\"scss\">\n\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Game.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Game.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Game.vue?vue&type=template&id=6783165c&scoped=true&\"\nimport script from \"./Game.vue?vue&type=script&lang=js&\"\nexport * from \"./Game.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"6783165c\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"debug-buttons\"},[_c('button',{staticClass:\"is-warn\",on:{\"click\":function($event){return _vm.$emit('reset')}}},[_vm._v(\"Reset\")]),_c('button',{staticClass:\"is-success\",on:{\"click\":_vm.cheat}},[_vm._v(\"Speed x\"+_vm._s(_vm.speedCheat))])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\nimport { Component, Prop, Vue } from 'vue-property-decorator';\nimport { setTimeSpeed } from '@/store/modules/timer';\n\n@Component\nexport default class DebugButtons extends Vue {\n    public speedCheat = 1;\n\n    public cheat() {\n        this.speedCheat *= 10;\n        if (this.speedCheat > 100) {\n            this.speedCheat = 1;\n        }\n        setTimeSpeed(this.speedCheat);\n    }\n}\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--13-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./DebugButtons.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--13-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./DebugButtons.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./DebugButtons.vue?vue&type=template&id=472b1012&scoped=true&\"\nimport script from \"./DebugButtons.vue?vue&type=script&lang=ts&\"\nexport * from \"./DebugButtons.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./DebugButtons.vue?vue&type=style&index=0&id=472b1012&scoped=true&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"472b1012\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"notifications-container\"},[_c('transition-group',{attrs:{\"name\":\"fade\",\"tag\":\"div\"}},_vm._l((_vm.state.notificationsToShow),function(notification){return _c('div',{key:notification.id,staticClass:\"notification has-shadow is-rounded\"},[_c('p',{staticClass:\"is-bold is-size-4\"},[_vm._v(_vm._s(notification.content))])])}),0)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\n\n\nimport { Component, Prop, Vue } from 'vue-property-decorator';\nimport * as NotificationStore from '@/store/modules/notifications';\nimport store from '../store';\n\n@Component\nexport default class NotificationToast extends Vue {\n    public get state() {\n        return store.state.notifications;\n    }\n}\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--13-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./NotificationToast.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--13-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./NotificationToast.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./NotificationToast.vue?vue&type=template&id=5526a8b8&scoped=true&\"\nimport script from \"./NotificationToast.vue?vue&type=script&lang=ts&\"\nexport * from \"./NotificationToast.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./NotificationToast.vue?vue&type=style&index=0&id=5526a8b8&scoped=true&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"5526a8b8\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"game-topbar\"},[_c('div',{staticClass:\"game-title is-flex\"},[_vm._m(0),_c('div',{staticClass:\"game-name-right\"},[_c('button',{staticClass:\"can-buy buy-mode-button is-rounded is-size-5\",on:{\"click\":_vm.changeBuyMode}},[_vm._v(_vm._s(_vm.buyModeText))])])]),_c('span',{staticClass:\"is-size-4 is-bold\"},[_vm._v(\"You have \"+_vm._s(_vm._f(\"formatCurrency\")(_vm.money)))])])}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"game-name-left\"},[_c('span',{staticClass:\"is-size-4 is-bold\"},[_vm._v(\"Capitalism Simulator\")])])}]\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport { Component, Prop, Vue } from 'vue-property-decorator';\nimport * as MoneyStore from '@/store/modules/money';\nimport * as FactoriesStore from '@/store/modules/factories';\nimport { BuyMode } from '@/interfaces/FactoryTypes';\n\nconst buyModes: BuyMode[] = ['single', 'ten', 'next', 'max'];\n\n@Component\nexport default class GameTopbar extends Vue {\n    public buyModeIndex: number = 0;\n    public buyMode: BuyMode = 'single';\n\n    public changeBuyMode() {\n        this.buyModeIndex++;\n        if (this.buyModeIndex >= buyModes.length) {\n            this.buyModeIndex = 0;\n        }\n        this.buyMode = buyModes[this.buyModeIndex];\n        FactoriesStore.mutations.setBuyMode(this.buyMode);\n    }\n\n    get buyModeText() {\n        switch (buyModes[this.buyModeIndex]) {\n            case 'single':\n                return 'x1';\n                break;\n            case 'ten':\n                return 'x10';\n                break;\n            case 'next':\n                return 'Next';\n                break;\n            case 'max':\n                return 'Max';\n                break;\n        }\n    }\n\n    get money() {\n        return MoneyStore.getters.currentMoney;\n    }\n}\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--13-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./GameTopbar.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--13-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./GameTopbar.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./GameTopbar.vue?vue&type=template&id=52d46eda&scoped=true&\"\nimport script from \"./GameTopbar.vue?vue&type=script&lang=ts&\"\nexport * from \"./GameTopbar.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./GameTopbar.vue?vue&type=style&index=0&id=52d46eda&scoped=true&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"52d46eda\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"game-bottom-bar\"},[_c('div',{staticClass:\"bottom-button\"},[_c('button',{staticClass:\"accent is-rounded is-size-5\",on:{\"click\":_vm.showManagers}},[_vm._v(\"Managers\")]),_c('transition',{attrs:{\"name\":\"fade\"}},[(_vm.managersPurchasable > 0)?_c('notification-badge',{attrs:{\"amount\":_vm.managersPurchasable}}):_vm._e()],1)],1),_c('div',{staticClass:\"bottom-button\"},[_c('button',{staticClass:\"accent is-rounded is-size-5\",on:{\"click\":_vm.showUpgrades}},[_vm._v(\"Upgrades\")]),_c('transition',{attrs:{\"name\":\"fade\"}},[(_vm.upgradesPurchasable > 0)?_c('notification-badge',{attrs:{\"amount\":_vm.upgradesPurchasable}}):_vm._e()],1)],1)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"notification-badge\"},[_c('span',{staticClass:\"notification-amount\"},[_vm._v(_vm._s(_vm.amount))])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\nimport { Component, Prop, Vue } from 'vue-property-decorator';\n\n@Component\nexport default class NotificationBadge extends Vue {\n    @Prop(Number) public amount!: number;\n}\n\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--13-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./NotificationBadge.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--13-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./NotificationBadge.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./NotificationBadge.vue?vue&type=template&id=e497fb7a&scoped=true&\"\nimport script from \"./NotificationBadge.vue?vue&type=script&lang=ts&\"\nexport * from \"./NotificationBadge.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./NotificationBadge.vue?vue&type=style&index=0&id=e497fb7a&scoped=true&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"e497fb7a\",\n  null\n  \n)\n\nexport default component.exports","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport { Component, Prop, Vue } from 'vue-property-decorator';\nimport * as ModalsStore from '@/store/modules/modals';\nimport * as FactoriesStore from '@/store/modules/factories';\nimport * as UpgradesStore from '@/store/modules/upgrades';\nimport * as MoneyStore from '@/store/modules/money';\nimport { IManagerInfo } from '@/interfaces/ManagerTypes';\nimport NotificationBadge from '@/components/NotificationBadge.vue';\nimport { IUpgradeUIData } from '../interfaces/UpgradeTypes';\nimport { UpgradeState } from '@/store/modules/UpgradeState';\n\n@Component({\n    components: {\n        NotificationBadge,\n    },\n})\nexport default class GameBottomBar extends Vue {\n    public showManagers() {\n        ModalsStore.mutations.addModal({\n            name: 'managers-modal',\n            title: 'Managers',\n            options: {},\n        });\n    }\n\n    public showUpgrades() {\n        ModalsStore.mutations.addModal({\n            name: 'upgrades-modal',\n            title: 'Upgrades',\n            options: {},\n        });\n    }\n\n    public get availableManagers(): IManagerInfo[] {\n        return FactoriesStore.getters.availableManagers;\n    }\n\n    public get availableUpgrades(): UpgradeState[] {\n        return UpgradesStore.getters.availableUpgrades;\n    }\n\n    public get upgradesPurchasable(): number {\n        return this.availableUpgrades.filter(upgrade => upgrade.canAfford).length;\n    }\n\n    public get managersPurchasable(): number {\n        return this.availableManagers.filter(manager => manager.canAfford).length;\n    }\n}\n\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--13-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./GameBottomBar.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--13-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./GameBottomBar.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./GameBottomBar.vue?vue&type=template&id=104a48f4&scoped=true&\"\nimport script from \"./GameBottomBar.vue?vue&type=script&lang=ts&\"\nexport * from \"./GameBottomBar.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./GameBottomBar.vue?vue&type=style&index=0&id=104a48f4&scoped=true&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"104a48f4\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('transition',{attrs:{\"name\":\"fade\"}},[_c('div',{staticClass:\"modal is-active is-clipped\"},[_c('div',{staticClass:\"modal-background\"}),_c('div',{staticClass:\"modal-content\"},[_c('div',{staticClass:\"modal-container\"},[_c('div',{staticClass:\"container-box\"},[_c('div',{staticClass:\"modal-title-area\"},[_c('span',{staticClass:\"is-bold is-size-4\"},[_vm._v(_vm._s(_vm.modal.title))]),_c('button',{staticClass:\"is-large\",attrs:{\"aria-label\":\"close\"},on:{\"click\":_vm.close}},[_vm._v(\"x\")])]),_c(_vm.modal.name,_vm._b({tag:\"component\"},'component',_vm.modal,false))],1)])])])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"managers-modal\"},[_c('p',[_vm._v(\"Managers will take care of your factories and run them automatically for you!\")]),_c('transition-group',{attrs:{\"el\":\"div\",\"name\":\"fade\"}},_vm._l((_vm.availableManagers),function(manager){return _c('div',{key:manager.factoryId,staticClass:\"box manager-box\"},[_c('div',{staticClass:\"manager-info\"},[_c('span',{staticClass:\"is-size-4 is-bold\"},[_vm._v(_vm._s(manager.name))]),_c('span',{staticClass:\"is-size-6\"},[_vm._v(\"Manages \"+_vm._s(manager.factoryName))])]),_c('button',{staticClass:\"button\",attrs:{\"disabled\":!manager.canAfford},on:{\"click\":function($event){return _vm.buyManager(manager)}}},[_vm._v(\" \"+_vm._s(_vm._f(\"formatCurrency\")(manager.cost))+\" \")])])}),0)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import { Component, Prop, Vue } from 'vue-property-decorator';\nimport * as ModalsStore from '@/store/modules/modals';\n\n/** Base class for modals, contains props for accessing common data of all modals\n * Also contains a close function so classes extending it can easily close themselves\n */\n@Component\nexport class BaseModal extends Vue {\n    @Prop(String) public uuid!: string;\n    @Prop(String) public name!: string;\n    @Prop(Object) public options!: {\n        [key: string]: any;\n    };\n\n    public close() {\n        ModalsStore.mutations.deleteModal(this.uuid);\n    }\n}\n","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n/** Popup that shows available managers and allows purchasing them */\nimport { Component, Prop, Vue } from 'vue-property-decorator';\nimport { BaseModal } from '../BaseModal';\nimport * as FactoriesStore from '@/store/modules/factories';\nimport * as MoneyStore from '@/store/modules/money';\nimport { IManagerInfo } from '@/interfaces/ManagerTypes';\n\n\n@Component\nexport default class ManagersModal extends BaseModal {\n\n    public buyManager(manager: IManagerInfo) {\n        FactoriesStore.mutations.buyManager(manager.factoryId);\n    }\n\n    public get availableManagers() {\n        return FactoriesStore.getters.availableManagers;\n    }\n}\n\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--13-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ManagersModal.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--13-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ManagersModal.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./ManagersModal.vue?vue&type=template&id=334c5062&scoped=true&\"\nimport script from \"./ManagersModal.vue?vue&type=script&lang=ts&\"\nexport * from \"./ManagersModal.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./ManagersModal.vue?vue&type=style&index=0&id=334c5062&scoped=true&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"334c5062\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"upgrades-modal\"},[_c('p',[_vm._v(\"Invest in upgrades to maximise profits!\")]),(_vm.availableUpgrades.length > 0)?_c('transition-group',{attrs:{\"el\":\"div\",\"name\":\"fade\"}},_vm._l((_vm.availableUpgrades),function(upgrade){return _c('div',{key:upgrade.data.id,staticClass:\"box upgrade-box\"},[_c('div',{staticClass:\"manager-info\"},[_c('span',{staticClass:\"is-size-4 is-bold\"},[_vm._v(_vm._s(upgrade.data.name))]),_c('span',{staticClass:\"is-size-6\"},[_vm._v(_vm._s(upgrade.upgradeText))])]),_c('button',{staticClass:\"button\",attrs:{\"disabled\":!upgrade.canAfford},on:{\"click\":function($event){return _vm.buyUpgrade(upgrade)}}},[_vm._v(\" \"+_vm._s(_vm._f(\"formatCurrency\")(upgrade.data.cost))+\" \")])])}),0):_c('p',[_vm._v(\"Wow, you bought all upgrades!\")])],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n/** Popup that shows available upgrades and allows purchasing them */\nimport { Component, Prop, Vue } from 'vue-property-decorator';\nimport { BaseModal } from '../BaseModal';\nimport * as UpgradesStore from '@/store/modules/upgrades';\nimport * as MoneyStore from '@/store/modules/money';\nimport { IManagerInfo } from '@/interfaces/ManagerTypes';\nimport { IUpgradeUIData } from '@/interfaces/UpgradeTypes';\nimport { UpgradeState } from '@/store/modules/UpgradeState';\n\n\n@Component\nexport default class UpgradesModal extends BaseModal {\n\n    public buyUpgrade(upgrade: UpgradeState) {\n        UpgradesStore.mutations.buyUpgrade(upgrade.data.id);\n    }\n\n    public get availableUpgrades() {\n        return UpgradesStore.getters.availableUpgrades;\n    }\n}\n\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--13-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./UpgradesModal.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--13-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./UpgradesModal.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./UpgradesModal.vue?vue&type=template&id=6eded4bc&scoped=true&\"\nimport script from \"./UpgradesModal.vue?vue&type=script&lang=ts&\"\nexport * from \"./UpgradesModal.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./UpgradesModal.vue?vue&type=style&index=0&id=6eded4bc&scoped=true&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"6eded4bc\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"managers-modal\"},[_c('h3',{staticClass:\"subtitle\"},[_vm._v(\"Investments never sleep!\")]),_c('p',[_vm._v(\"While you were gone, your factories generated \"+_vm._s(_vm._f(\"formatCurrency\")(_vm.moneyEarned))+\"!\")]),_c('button',{staticClass:\"button is-big\",on:{\"click\":_vm.close}},[_vm._v(\"Ok\")])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\n/** Popup that shows available managers and allows purchasing them */\nimport { Component, Prop, Vue } from 'vue-property-decorator';\nimport { BaseModal } from '../BaseModal';\n\n@Component\nexport default class OfflineSummaryModal extends BaseModal {\n    @Prop(Number) public moneyEarned!: number;\n}\n\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--13-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./OfflineSummaryModal.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--13-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./OfflineSummaryModal.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./OfflineSummaryModal.vue?vue&type=template&id=43be3aba&scoped=true&\"\nimport script from \"./OfflineSummaryModal.vue?vue&type=script&lang=ts&\"\nexport * from \"./OfflineSummaryModal.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"43be3aba\",\n  null\n  \n)\n\nexport default component.exports","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport { Component, Prop, Vue } from 'vue-property-decorator';\nimport { IModal } from '@/interfaces/ModalTypes';\nimport * as ModalsStore from '@/store/modules/modals';\nimport * as UpgradesStore from '@/store/modules/upgrades';\n\n// Modals\nimport ManagersModal from '@/components/modals/ManagersModal.vue';\nimport UpgradesModal from '@/components/modals/UpgradesModal.vue';\nimport OfflineSummaryModal from '@/components/modals/OfflineSummaryModal.vue';\n\n@Component({\n    components: {\n        ManagersModal,\n        UpgradesModal,\n        OfflineSummaryModal,\n    },\n})\nexport default class ModalContainer extends Vue {\n    @Prop() public modal!: IModal;\n\n    public created() {\n        /** Little hack to pass modal options as actual props\n         * by pushing them to the top level of the object to make it flat */\n        Object.assign(this.modal, this.modal.options);\n    }\n    public close() {\n        ModalsStore.mutations.deleteModal(this.modal.uuid);\n    }\n}\n\n\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--13-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ModalContainer.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--13-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ModalContainer.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./ModalContainer.vue?vue&type=template&id=4d722bbe&\"\nimport script from \"./ModalContainer.vue?vue&type=script&lang=ts&\"\nexport * from \"./ModalContainer.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./ModalContainer.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","\n\n\n\n\n\n\n\n\n\n\n\n\n\n/** Main component driving the game */\n\nimport { Component, Prop, Vue } from 'vue-property-decorator';\nimport { createTimeSave, loadTimeSave, timer, updateTimer } from '@/store/modules/timer';\nimport { IGameSave } from '@/interfaces/SaveTypes';\n\n// Store modules\nimport * as FactoriesStore from '@/store/modules/factories';\nimport * as MoneyStore from '@/store/modules/money';\nimport * as ModalsStore from '@/store/modules/modals';\nimport * as UpgradesStore from '@/store/modules/upgrades';\n// Components\nimport Game from '@/views/Game.vue';\nimport DebugButtons from '@/components/DebugButtons.vue';\nimport NotificationToast from '@/components/NotificationToast.vue';\nimport GameTopbar from '@/components/GameTopbar.vue';\nimport GameBottomBar from '@/components/GameBottomBar.vue';\nimport ModalContainer from '@/components/ModalContainer.vue';\n\n\nconst SAVE_SLOT = 'game-save';\n\n@Component({\n    components: {\n        Game,\n        DebugButtons,\n        NotificationToast,\n        GameTopbar,\n        GameBottomBar,\n        ModalContainer,\n    },\n})\nexport default class App extends Vue {\n\n    // \"game loop\" to update money gain from factories at a reasonable framerate\n    public animationFrameRequest!: number;\n    public created() {\n        this.loadGame();\n        this.gameLoop();\n    }\n\n    public gameLoop() {\n        const timeBefore = timer.time;\n        const moneyBefore = MoneyStore.getters.currentMoney;\n        updateTimer();\n        const newTime = timer.time;\n        const newMoney = MoneyStore.getters.currentMoney;\n        FactoriesStore.mutations.updateFactoriesProduction();\n        this.saveGame();\n        // Only show the away earnings summary screen if offline for more than 5 minutes\n        if (newTime - timeBefore >= 300) {\n            this.showAwayEarningsSummary(newMoney - moneyBefore);\n        }\n        this.animationFrameRequest = window.requestAnimationFrame(() => {\n            this.gameLoop();\n        });\n    }\n\n    public showAwayEarningsSummary(money: number) {\n        ModalsStore.mutations.addModal({\n            name: 'offline-summary-modal',\n            title: 'Offline Earnings',\n            options: {\n                moneyEarned: money,\n            },\n        });\n    }\n\n    /** debug tool to restart the game from scratch */\n    public resetGame() {\n        window.cancelAnimationFrame(this.animationFrameRequest);\n        localStorage.clear();\n        window.location.reload();\n    }\n\n    public saveGame() {\n        const factories = FactoriesStore.getters.factorySave;\n        const money = MoneyStore.getters.moneySave;\n        const upgrades = UpgradesStore.getters.upgradesSave;\n        const save: IGameSave = {\n            factories,\n            money,\n            time: createTimeSave(),\n            upgrades,\n        };\n        localStorage.setItem(SAVE_SLOT, JSON.stringify(save));\n    }\n\n    public loadGame(): boolean {\n        const saveString = localStorage.getItem(SAVE_SLOT);\n        if (saveString !== null) {\n            const save = JSON.parse(saveString) as IGameSave;\n            loadTimeSave(save.time);\n            FactoriesStore.mutations.loadSave(save.factories);\n            // Load order important: Upgrades will act on factories during loading\n            UpgradesStore.mutations.loadSave(save.upgrades);\n            MoneyStore.mutations.loadSave(save.money);\n            return true;\n        }\n        return false;\n    }\n\n    public get modals() {\n        return ModalsStore.getters.modals;\n    }\n}\n\n\n","import mod from \"-!../node_modules/cache-loader/dist/cjs.js??ref--13-0!../node_modules/thread-loader/dist/cjs.js!../node_modules/babel-loader/lib/index.js!../node_modules/ts-loader/index.js??ref--13-3!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../node_modules/cache-loader/dist/cjs.js??ref--13-0!../node_modules/thread-loader/dist/cjs.js!../node_modules/babel-loader/lib/index.js!../node_modules/ts-loader/index.js??ref--13-3!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./App.vue?vue&type=template&id=d16cfcd6&\"\nimport script from \"./App.vue?vue&type=script&lang=ts&\"\nexport * from \"./App.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./App.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import Vue from 'vue';\nimport VueRouter, { RouteConfig } from 'vue-router';\nimport Game from '@/views/Game.vue';\n\nVue.use(VueRouter);\n\nconst routes: RouteConfig[] = [\n    {\n        path: '/',\n        name: 'Game',\n        component: Game,\n    },\n];\n\nconst router = new VueRouter({\n    mode: 'history',\n    base: process.env.BASE_URL,\n    routes,\n});\n\nexport default router;\n","/** Utility for disabling buttons based on a condition directly in templates */\nimport { Vue } from 'vue-property-decorator';\n\nVue.directive('disabled', {\n    update: (el, binding) => {\n        if (binding.value === true) {\n            el.classList.add('disabled');\n        } else {\n            el.classList.remove('disabled');\n        }\n    },\n});\n","/** vue.js filter for easily formatting numbers directly in components */\nimport numeral from 'numeral';\nimport Vue from 'vue';\nimport { formatCurrency, formatNumber, formatTime } from '@/utils/NumberFormatters';\n\nVue.filter('formatCurrency', formatCurrency);\n\nVue.filter('formatNumber', formatNumber);\n\nVue.filter('formatTime', formatTime);\n","import Vue from 'vue';\nimport App from './App.vue';\nimport router from './router';\nimport store from './store';\nimport '@/directives/v-disable';\nimport '@/filters/formatNumber';\nVue.config.productionTip = false;\n\n// Setup CSS\n// tslint:disable-next-line:no-var-requires\nrequire('./assets/sass/main.scss');\n\nnew Vue({\n    router,\n    store,\n    render: (h) => h(App),\n}).$mount('#app');\n","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./NotificationToast.vue?vue&type=style&index=0&id=5526a8b8&scoped=true&lang=scss&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./NotificationToast.vue?vue&type=style&index=0&id=5526a8b8&scoped=true&lang=scss&\""],"sourceRoot":""}